% !TEX root = main.tex

\begin{figure}
    \centering
\begin{tikzpicture}[scale=0.5]

\pgfmathsetmacro{\xlimit}{30}
\pgfmathsetmacro{\ylimit}{7}

\input{figures/draw_dyadic}

\fill [green, opacity=0.4] 
  (0,\ylimit-1)
  --(0,\ylimit-2) 
  -- (\xlimit/4,\ylimit-2)
   -- (\xlimit/4,\ylimit-7)
  -- (0,\ylimit-7)
  --cycle
  node[midway, left] {$\mathcal U_{-1}$};;  

\fill [blue, opacity=0.4] 
(\xlimit/4+\xlimit/8, \ylimit-3)
-- (\xlimit/4+\xlimit/8, 0)
-- (\xlimit/4+\xlimit/8+\xlimit/16, 0)
-- (\xlimit/4+\xlimit/8+\xlimit/16, \ylimit-4)
-- (\xlimit/4+\xlimit/4+\xlimit/16, \ylimit-4)
-- (\xlimit/4+\xlimit/4+\xlimit/16, 0)
-- (\xlimit/4+\xlimit/4+\xlimit/8, 0)
-- (\xlimit/4+\xlimit/4+\xlimit/8, \ylimit-3)
--cycle
       node[midway, below] {$\mathcal K_{3,4}$};
; 

\fill[orange, opacity=0.4] (\xlimit, 6) circle (0.3) node[label={[]:$s_{1,1}$}]{};

\fill[orange, opacity=0.4]
(0, 6) circle (0.3) node[label={[]:$s_{1,1}$}]{};


\fill [green, opacity=0.4] 
        (\xlimit-0,\ylimit-2)
    -- (\xlimit-\xlimit/4,\ylimit-2)
    --(\xlimit-\xlimit/4, \ylimit-7)
    --(\xlimit, \ylimit-7)
    -- cycle
       node[midway, right] {$\mathcal U_{-1}$};
;

\end{tikzpicture}
\captionof{figure}{
Using the dyadic representation from \cref{fig:dyadic_grid},
 the domain $\mathcal U_{-1}$ is highlighted in green, and the domain $\mathcal K_{3,4}$ is highlighted in purple.
 The station $s_{1,1}$ is highlighted in orange; recall that points with external angle $\pm \pi$ appear twice in this representation. 
 %Also notice that every itinerary passing through the station $s_{1,1}$ must continue vertically from it.
 }  \label{fig:dyadic_grid_regions}
\end{figure} 
